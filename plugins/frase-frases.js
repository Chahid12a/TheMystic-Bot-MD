import translate from '@vitalets/google-translate-api';
import fetch from 'node-fetch';
const handler = async (m, {conn, command}) => {
  if (command === 'nassi7a') {
    const consejo = consejos[Math.floor(Math.random() * consejos.length)];
    const mensaje = `โญโโโโโโโโโโโโโโโโโฎ\n\nโโ๐ *ูุตูุญุฉ ุงูููู* ๐\n\nโฅ ${consejo}\n\nโฐโโโโโโโโโโโโโโโโโฏ`;
    await m.reply(mensaje);
  }

  if (command === 'romantic') {
    const frase_romantica = frasesromanticas[Math.floor(Math.random() * frasesromanticas.length)];
    const mensaje = `โญโโโโโโโโโโโโโโโโโฎ\n\nโโ๐ *ุนุจุงุฑุฉ ุฑููุงูุณูุฉ* ๐\n\nโฅ ${frase_romantica}\n\nโฐโโโโโโโโโโโโโโโโโฏ`;
    await m.reply(mensaje);
  }

  if (command == 'historiaromantica') {
    try {
      const cerpe = await cerpen(`cinta romantis`);
      const storytime = await translate(cerpe.cerita, {to: 'es', autoCorrect: true}).catch((_) => null);
      const titletime = await translate(cerpe.title, {to: 'es', autoCorrect: true}).catch((_) => null);
      conn.reply(m.chat, `แญฅ๐ซแญข Tรญtulo: ${titletime.text}
แญฅ๐แญข Autor: ${cerpe.author}
โโโโโโโโโโโโโโโโ
${storytime.text}`, m);
    } catch {
      const err = await fetch(`https://api.lolhuman.xyz/api/openai?apikey=${lolkeysapi}&text=Elabora%20una%20historia%20romantica%20que%20use%20el%20siguiente%20formato:%20%E1%AD%A5%F0%9F%AB%90%E1%AD%A2%20T%C3%ADtulo:%20%E1%AD%A5%F0%9F%8D%83%E1%AD%A2%20Autor:%20%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%20hsitoria...%20adalah&user=user-unique-id`);
      const json = await err.json();
      const fraseChat = json.result;
      conn.reply(m.chat, fraseChat, m);
    }
  }
};
handler.tags = ['frases'];
handler.command = handler.help = ['nassi7a', 'romantic', 'historiaromantica'];
export default handler;

async function cerpen(category) {
  return new Promise((resolve, reject) => {
    const title = category.toLowerCase().replace(/[()*]/g, '');
    const judul = title.replace(/\s/g, '-');
    const page = Math.floor(Math.random() * 5);
    axios.get('http://cerpenmu.com/category/cerpen-'+judul+'/page/'+page)
        .then((get) => {
          const $ = cheerio.load(get.data);
          const link = [];
          $('article.post').each(function(a, b) {
            link.push($(b).find('a').attr('href'));
          });
          const random = link[Math.floor(Math.random() * link.length)];
          axios.get(random).then((res) => {
            const $$ = cheerio.load(res.data);
            const hasil = {
              title: $$('#content > article > h1').text(),
              author: $$('#content > article').text().split('Cerpen Karangan: ')[1].split('Kategori: ')[0],
              kategori: $$('#content > article').text().split('Kategori: ')[1].split('\n')[0],
              lolos: $$('#content > article').text().split('Lolos moderasi pada: ')[1].split('\n')[0],
              cerita: $$('#content > article > p').text(),
            };
            resolve(hasil);
          });
        });
  });
}

global.frasesromanticas = [
  'ุฃูุช ุงูููุฑ ุงูุฐู ูููุฑ ุญูุงุชู ูู ุงูุธูุงู.',
  'ูุนูุ ูู ููู ูู ูุบุงูุฑุฉ ุฌุฏูุฏุฉ ูููุฆุฉ ุจุงูุญุจ.',
  'ุนููุงู ูู ุงูุนูุงุณ ุงูุณูุงุก ุงูุชู ุฃุฑูุฏ ุฃู ุฃุถูุน ูููุง.',
  'ูู ูุจุถุฉ ูู ููุจู ุชุญูู ุฅุณูู.',
  'ุจูู ุฐุฑุงุนูู ูุฌุฏุช ุงูููุฒู ุงูุฐู ููุช ุฃุจุญุซ ุนูู ุฏุงุฆููุง.',
   'ุฃูุช ุงูุญูู ุงูุฐู ูุง ุฃุฑูุฏ ุฃู ุฃุณุชููุธ ููู ุฃุจุฏูุง.',
   'ุงูุญุจ ุงูุญูููู ูู ุฃู ูููู ูุนูุง ูู ุงูุณุฑุงุก ูุงูุถุฑุงุก.',
   'ูุง ุชูุฌุฏ ูุณุงูุงุช ุนูุฏูุง ูููู ุงูููุจุงู ูุชุญุฏูู.',
   'ูุจูุงุชู ูู ุงููุญู ุงูุฐู ูุฌุนู ููุจู ูุชุณุงุฑุน.',
   'ุงูุญุจ ูู ุฃู ุชุฑู ูู ููุณู ูุง ูุง ูุณุชุทูุน ุฃุญุฏ ุฃู ูุฑุงู.',
   'ูู ูู ูุจุถุฉ ููุจุ ุขุฎุฐู ูุนู ูู ูู ููุงู.',
   'ุงูุญุจ ุงูุฐู ุฃุดุนุฑ ุจู ุชุฌุงูู ูู ููุชู ูููููุชู.',
   'ูููุงุชู ุงูุนุฐุจุฉ ูู ุบุฐุงุกู ุงูุนุงุทูู ุงููููู.',
   'ุฃูุช ุฃุบูู ูุฏูุฉ ูุฏูุชูุง ูู ุงูุญูุงุฉ.',
   'ุงูููุช ูุชููู ุนูุฏูุง ุฃููู ุจุฌุงูุจู.',
   'ูู ุงุจุชุณุงูุชู ุฃุฌุฏ ุงูุณุนุงุฏุฉ ุงูุชู ููุช ุฃุจุญุซ ุนููุง.',
   'ูู ููู ุจุฌุงูุจู ูู ูุตุฉ ุญุจ ูุง ุชูุชูู.',
   'ุญุจูุง ูุซู ุญูุงูุฉ ุฎุฑุงููุฉ ุชุชุญูู.',
   'ุฃุญุถุงูู ูู ููุฌุฃู ูู ูุฐุง ุงูุนุงูู ุงูููุถูู.',
   'ุฃูุช ุณุจุจ ุฅููุงูู ุจุงููุฏุฑ.',
   'ุงูุญุจ ูู ุงูุชุดุงู ุดูุก ุฌุฏูุฏ ูู ููู ูุฃูุง ูุนุฌุจ ุจู ููู.',
   'ุญุจู ูู ุงูููุญุฉ ุงูุจูุถุงุก ุงูุชู ุฃุฑุณู ูููุง ุณุนุงุฏุชู.',
   'ูุนู ุงููุณุชูุจู ุทุฑูู ูููุก ุจุงููุนูุฏ ูุงูุฃุญูุงู.',
   'ุฃูุช ุงูููุงุฑุฉ ุงูุชู ุชูุฏู ููุจู ูู ุงูุธูุงู.',
   'ุณุญุฑ ุงูุญุจ ููุฌูุฏ ูู ูู ููุชุฉ ูุดุงุฑููุง.',
   'ุญุจูุง ูู ุฑูุตุฉ ุฃุจุฏูุฉ ูู ุงูุนุงุทูุฉ ูุงูุญูุงู.',
   'ุจูู ุฐุฑุงุนูู ูุฎุชูู ุงูุนุงูู ููู ููุง ููุฌุฏ ุฅูุง ุฃูุง ูุฃูุช.',
   'ุงูุญุจ ูู ุงููุบุฉ ุงูุชู ุชุชุญุฏุซ ุจูุง ูููุจูุง.',
   'ุฃูุช ุงููุทุนุฉ ุงูุตุบูุฑุฉ ุงูุชู ููุช ุฃูุชูุฏูุง ูุฅููุงู ุฑูุญู.',
   'ุงูุญุจ ูู ุฃู ุฃุฌุฏ ููู ูู ูุง ูู ุฃูู ุฃุนุฑู ุฃููู ุจุญุงุฌุฉ ุฅููู.',
];

global.consejos =[
'ุงูุจู ุฃู ุงูุชุบููุฑุงุช ุฌุฒุก ุทุจูุนู ูู ุงูุญูุงุฉุ ูุชุนูู ููู ุชุชููู ูุนูุง.',
'ูุง ุชุชููู ุนู ุงูุชุนููุ ูุงููุนุฑูุฉ ุฃุฏุงุฉ ูููุฉ.',
'ุงุนุชู ุจุตุญุชู ุงูุฌุณุฏูุฉ ูุงูุนูููุฉุ ูููุง ุฃุณุงุณูุงู ูุญูุงุฉ ูููุฆุฉ.',
'ุงุณุชูุชุน ุจุงูุฃุดูุงุก ุงูุตุบูุฑุฉุ ููู ุงูุชู ุชุนุทู ูุนูู ููุญูุงุฉ.',
'ุชุนูู ุฃู ุชุบูุฑุ ููุขุฎุฑูู ููููุณูุ ูุชุญุฑุฑ ููุจู.',
'ูุฏูุฑ ุงูููุช ุงูุฐู ุชูุถูู ูุน ุฃุญุจุงุฆูุ ููู ุฃุซูู ูุฏูุฉ ููููู ุฃู ุชุนุทููุง ูุชุชููุงูุง.',
'ูู ูุทูููุง ูุฑุญูููุง ูุน ุงูุขุฎุฑููุ ููู ูุนู ูู ุงููุทู ูููู ุฃู ูุญุฏุซ ูุฑููุง ูู ุญูุงุชูู.',
'ุชุนูู ุฃู ุชููู "ูุง" ุนูุฏ ุงูุถุฑูุฑุฉุ ูุญุฏุฏ ุญุฏูุฏูุง ุตุญูุฉ.',
'ุงุฌุฏ ููุชูุง ููุนู ูุง ุชุญุจุ ูุฐูู ูุบุฐู ุฑูุญู ููุฌุนูู ุชุดุนุฑ ุจุงูุญูุงุฉ.',
'ูุง ุชูุงุฑู ููุณู ุจุงูุขุฎุฑููุ ูููู ุดุฎุต ูุณุงุฑู ูุฅููุงุนู ุงูุฎุงุต ูู ุงูุญูุงุฉ.',
'ุงุณุชูุน ุฅูู ุดุฑููู ุจุชุนุงุทู ูุชูููุ ูุงูุชูุงุตู ูู ุฃุณุงุณ ุนูุงูุฉ ูุชููุฉ.',
'ูุง ุชุฎู ูู ุงูุชุนุจูุฑ ุนู ูุดุงุนุฑูุ ูุงูุตุฏู ุฃุณุงุณู ูู ุงูุญุจ.',
'ุชุนูู ุงูุชูุงุฒู ูุงูุชุณููุฉุ ูุงูุญุจ ูุชุทูุจ ุชุถุญูุฉ ูุฌูุฏ ูุชุจุงุฏู.',
'ูุงุฌุฆ ุดุฑููู ูู ุญูู ูุขุฎุฑุ ูุญุงูุธ ุนูู ุดุฑุงุฑุฉ ุงูุฑููุงูุณูุฉ.',
'ุงุญุชุฑู ูุฑุฏูุฉ ุดุฑููู ูุงุณูุญ ูู ุจุงูููู ูุดุฎุต.',
'ุงูุญุจ ุงูุฐุงุชู ููู ุจูุฏุฑ ุญุจ ุดุฎุต ุขุฎุฑุ ุงุนุชู ุจููุณู ููุฏูุฑูุง.',
'ุชุฐูุฑ ุฃู ุงูุนูุงูุฉ ุงูุตุญูุฉ ุชููู ุนูู ุงูุซูุฉ ุงููุชุจุงุฏูุฉ ูุงูุงุญุชุฑุงู.',
'ุงุฎุชุฑ ุดุฎุตูุง ููููู ููุฌุนูู ุชุตุจุญ ูุณุฎุฉ ุฃูุถู ูู ููุณู.',
'ุงูุญุจ ุงูุญูููู ูุง ูุฌุนูู ุชุดุนุฑ ุจุฃูู ุฃููุ ุจู ูุฌุนูู ุชุดุนุฑ ุจุฃูู ุฃูุซุฑ.',
'ุงูุญุจ ูุนูุ ูู ุงุฎุชูุงุฑ ูููู ููุฒุฑุน ุจุงูุฃูุนุงู ูุงููููุงุช.',
'ุงุจุญุซ ุนู ุนูู ูุดุบูู ุจุดุบูุ ููู ุชุดุนุฑ ุฃุจุฏูุง ุฃูู ุชุนูู.',
'ูู ุงุณุชุจุงูููุง ูุจุงุฏุฑ ูู ุนูููุ ูุณูุชู ุชูุฏูุฑ ุฐูู ูู ูุจู ุฑุคุณุงุฆู.',
'ุชุนูู ูู ุฃุฎุทุงุฆู ูุฅุฎูุงูุงุชูุ ููู ูุฑุต ููููู ูุงูุชุญุณูู.',
'ุญุงูุธ ุนูู ูููู ุฅูุฌุงุจู ูุงุจุญุซ ุนู ุญููู ุฃูุงู ุงูุชุญุฏูุงุช ุงููุธูููุฉ.',
'ุฒุฑุน ุนูุงูุงุช ุฌูุฏุฉ ูุน ุฒููุงุฆูุ ูุงูุนูู ุงูุฌูุงุนู ููุชุงุญ ุงููุฌุงุญ.',
'ุญุฏุฏ ุฃูุฏุงููุง ูุงุถุญุฉ ููุงูุนูุฉุ ูุงุนูู ุจุนุฒู ูุชุญููููุง.',
'ูุง ุชุฎู ูู ุทูุจ ุงููุณุงุนุฏุฉ ุฃู ุงูุจุญุซ ุนู ุฅุฑุดุงุฏุ ูููุงู ุฏุงุฆููุง ุดูุก ุฌุฏูุฏ ูููู ุชุนููู.',
'ุงุนุชุฑู ุจุฅูุฌุงุฒุงุชู ููุฏูุฑูุงุ ุงุญุชูู ุจูุฌุงุญุงุชู ูููุง ูุงูุช ุตุบูุฑุฉ.',
'ุงุจุญุซ ุนู ุชูุงุฒู ุจูู ุญูุงุชู ุงูููููุฉ ูุงูุดุฎุตูุฉุ ูููุง ุงูุฌุงูุจูู ููู.',
'ุงูุนูู ุฌุฒุก ููู ูู ุญูุงุชูุ ูููู ููุณ ูู ูุง ูุญุฏุฏ ูู ุฃูุช.',
'ุขูู ุจููุณู ูุจูุฏุฑุชู ุนูู ุชุญููู ูุง ุชุทูุญ ุฅููู.',
'ุชุฎูู ุฃูุฏุงูู ูุฃุญูุงููุ ุชุฎูู ููู ุณุชุดุนุฑ ุนูุฏ ุชุญููููุง.',
'ุงุณุชููู ูู ุฃููุฆู ุงูุฐูู ุชุบูุจูุง ุนูู ุนูุจุงุช ูุดุงุจูุฉ ููุง ุชูุงุฌูู.',
'ุงูุจู ุงููุดู ูุฌุฒุก ูู ุงูุนูููุฉุ ููู ูุฑุต ููุชุนูู ูุงูููู.',
'ุญูุท ููุณู ุจุฃุดุฎุงุต ุฅูุฌุงุจููู ูุฏูุนููู ููุฃูุงู.',
'ุงุญุชูุธ ุจุนูููุฉ ูููุชุญุฉ ููุณุชุนุฏุฉ ูุชุนูู ุฃุดูุงุก ุฌุฏูุฏุฉ.',
'ุชุฐูุฑ ุงูุณุจุจ ุงูุฐู ุจุฏุฃุช ูู ุฃุฌูู ุนูุฏูุง ุชุดุนุฑ ุจุงูุฅุญุจุงุทุ ุฃุนุฏ ุงูุงุชุตุงู ุจุบุฑุถู.',
'ูุณู ุฃูุฏุงูู ุฅูู ุฎุทูุงุช ุตุบูุฑุฉุ ููุง ูุฌุนู ุงูุทุฑูู ุฃูุซุฑ ูุงุจููุฉ ููุชุญููู ูุฃูู ุฅุฑูุงููุง.',
'ูุง ุชุฎู ูู ูุชุงุจุนุฉ ุฃุญูุงููุ ูุงูุญูุงุฉ ูุตูุฑุฉ ุฌุฏูุง ููุนูุด ุจูุฏู.',
'ุซู ุจุฃููุ ุจุงูุฌูุฏ ูุงููุซุงุจุฑุฉุ ููููู ุชุญููู ูู ูุง ุชุถุนู ูุตุจ ุนูููู.',
  ];
